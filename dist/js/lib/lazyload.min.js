function _extends(){return(_extends=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,n){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.LazyLoad=n()}(this,function(){"use strict";var t="undefined"!=typeof window,o=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),e=t&&"IntersectionObserver"in window,s=t&&"classList"in document.createElement("p"),r={elements_selector:"img",container:o||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null,use_native:!1},a="data-",i="was-processed",c="ll-timeout",l="true",u=function(t,n){return t.getAttribute(a+n)},f=function(t,n,e){var o=a+n;null!==e?t.setAttribute(o,e):t.removeAttribute(o)},d=function(t){return u(t,i)===l},_=function(t,n){return f(t,c,n)},v=function(t){return u(t,c)},g=function(t,n){var e,o="LazyLoad::Initialized",r=new t(n);try{e=new CustomEvent(o,{detail:{instance:r}})}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:r})}window.dispatchEvent(e)};var m=function(t,n){t&&t(n)},b=function(t,n){t._loadingCount+=n,0===t._elements.length&&0===t._loadingCount&&m(t._settings.callback_finish)},h=function(t){for(var n,e=[],o=0;n=t.children[o];o+=1)"SOURCE"===n.tagName&&e.push(n);return e},p=function(t,n,e){e&&t.setAttribute(n,e)},y=function(t,n){p(t,"sizes",u(t,n.data_sizes)),p(t,"srcset",u(t,n.data_srcset)),p(t,"src",u(t,n.data_src))},E={IMG:function(t,n){var e=t.parentNode;e&&"PICTURE"===e.tagName&&h(e).forEach(function(t){y(t,n)});y(t,n)},IFRAME:function(t,n){p(t,"src",u(t,n.data_src))},VIDEO:function(t,n){h(t).forEach(function(t){p(t,"src",u(t,n.data_src))}),p(t,"src",u(t,n.data_src)),t.load()}},w=function(t,n){var e=n._settings,o=t.tagName,r=E[o];if(r)return r(t,e),b(n,1),void(n._elements=function(t,n){return t.filter(function(t){return t!==n})}(n._elements,t));!function(t,n){var e=u(t,n.data_src),o=u(t,n.data_bg);e&&(t.style.backgroundImage='url("'.concat(e,'")')),o&&(t.style.backgroundImage=o)}(t,e)},I=function(t,n){s?t.classList.add(n):t.className+=(t.className?" ":"")+n},k="load",A="loadeddata",x="error",L=function(t,n,e){t.addEventListener(n,e)},O=function(t,n,e){t.removeEventListener(n,e)},N=function(t,n,e){O(t,k,n),O(t,A,n),O(t,x,e)},z=function(t,n,e){var o=e._settings,r=n?o.class_loaded:o.class_error,a=n?o.callback_loaded:o.callback_error,i=t.target;!function(t,n){s?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s+)"+n+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(i,o.class_loading),I(i,r),m(a,i),b(e,-1)},C=function(e,o){var r=function t(n){z(n,!0,o),N(e,t,a)},a=function t(n){z(n,!1,o),N(e,r,t)};!function(t,n,e){L(t,k,n),L(t,A,n),L(t,x,e)}(e,r,a)},M=["IMG","IFRAME","VIDEO"],R=function(t,n){var e=n._observer;j(t,n),e&&n._settings.auto_unobserve&&e.unobserve(t)},S=function(t){var n=v(t);n&&(clearTimeout(n),_(t,null))},T=function(t,n){var e=n._settings.load_delay,o=v(t);o||(o=setTimeout(function(){R(t,n),S(t)},e),_(t,o))},j=function(t,n,e){var o=n._settings;!e&&d(t)||(-1<M.indexOf(t.tagName)&&(C(t,n),I(t,o.class_loading)),w(t,n),function(t){f(t,i,l)}(t),m(o.callback_reveal,t),m(o.callback_set,t))},F=function(n){return e&&(n._observer=new IntersectionObserver(function(t){t.forEach(function(t){return function(t){return t.isIntersecting||0<t.intersectionRatio}(t)?function(t,n){var e=n._settings;m(e.callback_enter,t),e.load_delay?T(t,n):R(t,n)}(t.target,n):function(t,n){var e=n._settings;m(e.callback_exit,t),e.load_delay&&S(t)}(t.target,n)})},function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}}(n._settings)),!0)},G=["IMG","IFRAME"],D=function(t,n){return function(t){return t.filter(function(t){return!d(t)})}(function(t){return Array.prototype.slice.call(t)}(t||function(t){return t.container.querySelectorAll(t.elements_selector)}(n)))},n=function(t,n){this._settings=function(t){return _extends({},r,t)}(t),this._loadingCount=0,F(this),this.update(n)};return n.prototype={update:function(t){var n=this,e=this._settings;this._elements=D(t,e),!o&&this._observer?(function(t){return t.use_native&&"loading"in HTMLImageElement.prototype}(e)&&(function(n){n._elements.forEach(function(t){-1!==G.indexOf(t.tagName)&&(t.setAttribute("loading","lazy"),j(t,n))})}(this),this._elements=D(t,e)),this._elements.forEach(function(t){n._observer.observe(t)})):this.loadAll()},destroy:function(){var n=this;this._observer&&(this._elements.forEach(function(t){n._observer.unobserve(t)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,n){j(t,this,n)},loadAll:function(){var n=this;this._elements.forEach(function(t){R(t,n)})}},t&&function(t,n){if(n)if(n.length)for(var e,o=0;e=n[o];o+=1)g(t,e);else g(t,n)}(n,window.lazyLoadOptions),n});